\documentclass[a4wide, 10pt]{article}
\usepackage{a4, fullpage}
\usepackage{graphicx}
\setlength{\parskip}{0.3cm}
\setlength{\parindent}{0cm}
\newcommand{\tab}{\hspace*{2em}}
% This is the preamble section where you can include extra packages etc.

\begin{document}

\title{MAlice Language Specification}

\author{Sean Allan \and Mitchell Allison \and Max Tottenham}

\date{\today}         % inserts today's date

\maketitle            % generates the title from the data above

\section{Introduction}
The goal of this document is to outline an informal language specification for 
the programming language MAlice. The following sections will outline the rough
gramatical structure of the language in Extended-BNF (EBNF). Then the 
document will explain the semantics of the logical and numerical operaters in MAlice.
\section{BNF Grammar} 
\begin{verbatim}
    Function    = "The looking-glass hatta" ,  "()" ,  "opened" , 
                   Codeblock , "closed" ;
    LogExp      = LogExp , '&' , Exp |  LogExp , '|' , Exp 
                | LogExp , '^' , Exp | Exp ;
    Exp         = Exp , '+' , Term | Exp , '-' , Term | Term ;
    Term        = Term , '*' , Factor | Term , '/' , Factor | Factor ;
    Factor      = '~' , Value | Value ;
    Value       = Integer | Identifier ;
    Type        = "number" | "letter" ;
    Declare     = "was a" , Type ;
    Assign      = "became" , Exp | "became" , Char ;
    Return      = "said Alice" ;
    BuiltInFunc = "Ate" | "Drank" ;
    Code        = Identifier , Declare | Identifier , Assign | Exp , Return  
                | Identifier , BuiltInFunc ;
    Codeblock   = Code , Separator , Codeblock | Code , Terminator ; 
    Separator   = Terminator | ',' | "and" | "but" | "then"; 
    Identifier  = String ;
    Terminator  = "too." | '.' | ',' ;
    String      = { Char } ;
    Integer     = '0' | [ '-' ] , Nat ;
    Nat         = DigitNoZero , { Digit } ;
    Digit       = '0' | DigitNoZero ; 
    DigitNoZero = '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' ;
    Char        = 'a' | 'b' | 'c' | 'd' | 'e' | 'f' | 'g' | 'h' | 'i' | 'j' | 'k' 
                | 'l' | 'm' | 'n' | 'o' | 'p' | 'q' | 'r' | 's' | 't' | 'u' | 'v'
                | 'w' | 'x' | 'y' | 'z' | 'A' | 'B' | 'C' | 'D' | 'E' | 'F' | 'G'
                | 'H' | 'I' | 'J' | 'K' | 'L' | 'M' | 'N' | 'O' | 'P' | 'Q' | 'R'
                | 'S' | 'T' | 'U' | 'V' | 'W' | 'X' | 'Y' | 'Z' | '_' ;
\end{verbatim}
\section{Semantics}
\subsection{Structure}
The MAlice language primarily describes a program with a single function 
that serves as a point of entry. The format of the function below can be
compared to the 'main' function seen in languages like C and Java.

\begin{figure}[h!]
\begin{verbatim}
    The looking-glass hatta ()
\end{verbatim}
\caption{The 'main' function.}
\end{figure}

The function is then enclosed within a block, denoted by the syntax below.
\begin{figure}[h!]
\begin{verbatim}
    opened
        code
    closed
\end{verbatim}
\caption{Opening and closing statements for a code block.}
\end{figure}

The code between the \emph{opened} and \emph{closed} blocks consist of 
declaration and assignment statements followed by a print statement, 
often in this respective order although this isn't strictly enforced. The 
structure of an example code block is shown in Table~\ref{tab:code}.

\begin{table}[h]
\begin{tabular}{l l}
\verb|   meaningoflife was a number.| & \verb|//Declaration| \\
\verb|   meaningoflife became 42.| & \verb|//Assignment| \\
\verb|   meaningoflife said Alice.| & \verb|//Print| \\
\end{tabular}
\caption{Example of code from the MAlice language.}
\label{tab:code}
\end{table}
  
Note that each statement is separated by either a \emph{',', '.', 'too.',
 'and'} or \emph{'but'}. A block of code must be terminated with either a 
 \emph{'.'} or \emph{'too.'}.

\subsection{Data Types}

\subsubsection{\texttt{number}}
\label{sec:number}
{\bf Range:} +127 to -128 {\bf Memory required:} 8 bits.
 
\tab This data type is similar to the \texttt{int} data type from other 
programming languages, or a subset of integers from mathematics. In the MAlice 
language, \texttt{number}s are represented in 8 bit two's complement - this
means they have a range from +127 to -128. The choice to have \texttt{number}s
represented in two's complement was derived from the sample functions whereby
all \texttt{number}s used fell within the +127 to -128 range. Additionally, when
operations such as bitwise NOT were performed, the result suggested that the 
\texttt{number}s were represented in two's complement format.

\subsubsection{\texttt{letter}}

{\bf Range:} a-z, A-Z {\bf Memory required:} 8 bits.

\tab This data type is similar to the \texttt{char} data type from other
programming languages, representing a letter or character. Note that this type
is somewhat restricted in the range of characters that can be represented; MAlice
only supports lower and upper-case letters (a-z and A-Z). This range was deduced
from the sample functions whereby no numbers or other characters were used in
\texttt{letter}s. A \texttt{letter} is stored in 8 bits using ASCII 
representation. The allocation of 8 bits for a \texttt{letter} also allows for
potential expansion for other characters, such as numbers and other symbols 
(such as \$).

Also note that the MAlice language does not support a \texttt{string} data 
type, as MAlice does not support arrays (and hence could not store an array of
characters or \texttt{letter}s).

\subsection{Operator Precedence}
The operators in MAlice are defined below in increasing order of operator precidence.

\begin{itemize}
	\item
	$|$ Defines the logical bitwise OR operator.\footnote{The logical 
		operators shown here are applied on Two's Complement values. See
		section ~\ref{sec:number}} 
	\\ \tab e.g. 3 $|$ 5 = 7
	\item
	$\land$ Defines the logical bitwise XOR operator. 
	\\ \tab e.g. 3 $\land$ 5 = 6
	\item
	$\&$ Defines the logical bitwise AND operator. 
	\\ \tab e.g. 3 $\&$ 5 = 1
	\item
	+ - Define Integer Addition and Subtration respectively. 
	\\ \tab e.g. 3 + 5 = 8 \\ \tab e.g. 3 - 5 = -2
	\item
	* / \% Define Integer Multiplication, Division, and Modulo respectively. 
	\\ \tab e.g. 3 * 5 = 15 \\ \tab e.g. 3 / 5 = 0 \\ \tab e.g. 3 \% 5 = 3
	\item
	\textasciitilde  Defines the unary logical NOT operator.
	\\ \tab e.g. \textasciitilde$ 3 = -4$
\end{itemize}

\begin{tabular}{|l|l|l|l|l|} \hline
Operator & Description & Argument Types & Examples & Precedence Level \\ \hline
mitchell & why & you & burn & village? \\ \hline

\end{tabular}

\subsection{Illegal Operations}
The purpose of this section is to explain the behaviour of the edge cases of the
MAlice langugae.

\subsubsection{Divide by zero}
A divide by zero operation will be valid under MAlice syntax, although the
semantics will cause the program to throw a runtime error.


\subsubsection{Numerical operators}
As MAlice is a stronly typed language, numerical operators can only have 
arguments of type number. Any other type used with a numerical operator
produces a compile time 'type error'. This can be seen in the output for ex02.alice:


\subsubsection{Integer Overflow}
As integers are represented as an 8 bit 'Two's Complement' format there is 
a large chance for integer overflow to occur. Overflow should not be caught
by the compiler. It is up to the implementation on how to handle integer 
overflow at runtime. This language spec document will treat integer 
overflow as undefined behaviour and will ignore it where necessary.


\subsubsection{Variable Declaration}
Variables in MAlice are declared by the BNF rules as above. The MAlice 
language is statically typed, so once a variable has been declared in an
MAlice program, it cannot then be redeclared. Similarly you cannot introduce
a variable without first declaring a type for it.The following example is
invalid MAlice syntax.

\texttt{\tab wrong was a number.\\ \tab wrong was a letter.}

The following is also invalid due to a redeclaration of a variable.

\texttt{\tab wrong was a number then wrong was a number.} 

Syntatic errors such as this are caught at compile time.


\subsubsection{Assignment}
Assignment follows the strict typing of MAlice, so a variable of type letter 
cannot take on a value of type number.


\subsubsection{Built in function}
Eating Drinking and talking: 




Finally for this document, if you want to include a reference
then you put it into a \texttt{thebibliography\{...\}}
environment (see below in source file) and then 
cite it like this \cite{lamport94}
(you will need to run \texttt{latex} twice to get it to process the citation),
or you can use BibTex but that is probably overkill for now.

\begin{thebibliography}{9}

\bibitem{lamport94}
  Leslie Lamport,
  \emph{\LaTeX: A Document Preparation System}.
  Addison Wesley, Massachusetts,
  2nd Edition,
  1994.
\bibitem{Wikipedia}
\begin{verbatim}	http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form \end{verbatim}

\end{thebibliography}


\end{document}


